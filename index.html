<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Lotto Analyzer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>

<body>

    <h1>🎲 Web Lotto Analyzer</h1>

    <div class="status-bar">
        <!-- 클래스 추가 및 인라인 스타일 제거 -->
        <span>상태: <strong id="statusText" class="status-loading">모듈 로딩 대기중...</strong></span>
        <button type="button" id="btnLoad" class="action-btn">데이터 로드 시작</button>
    </div>

    <!-- 탭 버튼 -->
    <div class="tab-container">
        <button type="button" class="tab-btn active" onclick="openTab('tab-home')">🍀 무작위 조합</button>
        <button type="button" class="tab-btn" onclick="openTab('tab-sum')">📊 합계 필터</button>
        <button type="button" class="tab-btn" onclick="openTab('tab-markov')">🤖 마르코프 예측</button>
    </div>

    <!-- [Tab 1] 홈 / 랜덤 -->
    <div id="tab-home" class="tab-content active">
        <div class="control-panel">
            <h3>랜덤 번호 생성</h3>
            <p>전체 814만 조합 데이터(메모리 DB)에서 무작위로 5개를 즉시 추출합니다.</p>
            <button type="button" id="btnPick" class="action-btn" disabled>🎲 랜덤 5개 뽑기</button>
        </div>

        <!-- Tab 1 전용 결과창 -->
        <div class="result-section">
            <h4>📋 결과 목록</h4>
            <div id="out-home" class="output-box">
                <div class="msg-empty">결과가 여기에 표시됩니다.</div>
            </div>
        </div>
    </div>

    <!-- [Tab 2] 합계 필터 -->
    <div id="tab-sum" class="tab-content">
        <div class="control-panel">
            <h3>합계 구간 검색</h3>
            <p>6개 번호의 총합을 기준으로 검색합니다.</p>

            <!-- 검색 모드 선택 -->
            <div class="radio-group">
                <label class="radio-label">
                    <input type="radio" name="sumMode" value="range" checked>
                    범위 검색 (Min ~ Max)
                </label>
                <label class="radio-label">
                    <input type="radio" name="sumMode" value="exact">
                    정확한 값 (Exact)
                </label>
            </div>

            <!-- 입력 영역 -->
            <div class="input-row">
                <!-- 범위 입력 그룹 -->
                <div id="rangeInputs" class="input-group">
                    <label>최소: <input type="number" id="minSum" value="120"></label>
                    <span>~</span>
                    <label>최대: <input type="number" id="maxSum" value="140"></label>
                </div>

                <!-- 정확한 값 입력 그룹 -->
                <div id="exactInput" class="input-group hidden">
                    <label>합계: <input type="number" id="targetSum" value="135"></label>
                </div>
                <button type="button" id="btnFilterSum" class="action-btn search-btn" disabled>🔍 검색</button>
            </div>
        </div>

        <!-- Tab 2 전용 결과창 -->
        <div class="result-section">
            <h4>📋 검색 결과</h4>
            <div id="out-sum" class="output-box">
                <div class="msg-empty">검색 결과가 여기에 표시됩니다.</div>
            </div>
        </div>
    </div> <!-- [수정됨] tab-sum 여기서 닫힘 -->

    <!-- [Tab 3] 마르코프 분석 -->
    <div id="tab-markov" class="tab-content">
        <div class="control-panel">
            <h3>🤖 마르코프 체인 예측 (Demo)</h3>
            <p class="markov-desc">
                최근 합계(s) 주변의 과거 전이 패턴을 분석하여 다음 합계 구간을 예측합니다.
            </p>

            <!-- 컨트롤 컨테이너 -->
            <div class="markov-controls">
                <label>
                    <span class="input-label-text">최근 합계 (s)</span>
                    <input type="number" id="mk-currentSum" value="138" class="input-md">
                </label>

                <label>
                    <span class="input-label-text">범위 (±W)</span>
                    <input type="number" id="mk-W" value="5" class="input-sm">
                </label>

                <label>
                    <span class="input-label-text">Top N</span>
                    <input type="number" id="mk-topN" value="20" class="input-sm">
                </label>

                <button type="button" id="btnMarkov" class="action-btn" disabled>🚀 예측 실행</button>
            </div>
        </div>

        <!-- 결과 테이블 (중복 제거 및 위치 수정됨) -->
        <div class="result-section">
            <h4>📊 예측 결과</h4>
            <div id="out-markov" class="output-box">
                <div class="msg-empty">데이터 로드 후 실행 가능합니다.</div>
            </div>
        </div>
    </div> <!-- [수정됨] tab-markov 여기서 닫힘 -->

    <script type="module" src="app.js"></script>
</body>

</html>